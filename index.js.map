{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48167569-742bafd1cf9306d4d73187ce8';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`HTTP Error! Status: ${response.status}`);\n    }\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.getElementById('gallery');\nlet lightbox;\n\nexport function renderImages(images) {\n  gallery.innerHTML = images\n    .map(\n      image =>\n        `<a href=\"${image.largeImageURL}\" class=\"gallery-item\" data-lightbox=\"gallery\">\n                    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n                    <p> Likes: ${image.likes} | Views: ${image.views} | Comments: ${image.comments} | Downloads: ${image.downloads}</p>\n                    \n                </a>`\n    )\n    .join('');\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, clearGallery } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst loader = document.getElementById('loader');\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    iziToast.error({ title: 'Error', message: 'Please enter a search query!' });\n    return;\n  }\n\n  clearGallery();\n  loader.style.display = 'block';\n\n  try {\n    const images = await fetchImages(query);\n    loader.style.display = 'none';\n\n    if (images.length === 0) {\n      iziToast.warning({\n        title: 'Error!',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      renderImages(images);\n    }\n  } catch (error) {\n    loader.style.display = 'none';\n    iziToast.error({\n      title: 'Error',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","error","gallery","lightbox","renderImages","images","image","SimpleLightbox","clearGallery","searchForm","searchInput","loader","event","iziToast"],"mappings":"wvBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,2DAED,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAG1D,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CChBA,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjD,IAAIC,EAEG,SAASC,EAAaC,EAAQ,CACnCH,EAAQ,UAAYG,EACjB,IACCC,GACE,YAAYA,EAAM,aAAa;AAAA,gCACPA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA,iCACrCA,EAAM,KAAK,aAAaA,EAAM,KAAK,gBAAgBA,EAAM,QAAQ,iBAAiBA,EAAM,SAAS;AAAA;AAAA,qBAG7H,EACA,KAAK,EAAE,EAELH,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAII,EAAe,YAAY,CAI9C,CAEO,SAASC,GAAe,CAC7BN,EAAQ,UAAY,EACtB,CCtBA,MAAMO,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,eAAe,QAAQ,EAE/CF,EAAW,iBAAiB,SAAU,MAAMG,GAAS,CACnDA,EAAM,eAAc,EACpB,MAAMd,EAAQY,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACZ,EAAO,CACVe,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,8BAA8B,CAAE,EAC1E,MACD,CAEDL,IACAG,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMN,EAAS,MAAMR,EAAYC,CAAK,EACtCa,EAAO,MAAM,QAAU,OAEnBN,EAAO,SAAW,EACpBQ,EAAS,QAAQ,CACf,MAAO,SACP,QACE,0EACV,CAAO,EAEDT,EAAaC,CAAM,CAEtB,MAAe,CACdM,EAAO,MAAM,QAAU,OACvBE,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACR,CAAK,CACF,CACH,CAAC"}